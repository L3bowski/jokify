@import 'variables';

.jokes {
    position: relative;
    width: 100%;
    height: calc(100% - #{$buttonSize + $buttonSpacing * 2});
    display: flex;

    .joke {
        position: absolute;
        top: 0;
        bottom: 0;
        opacity: 0;

        box-sizing: border-box;
        overflow: auto;
        padding: 0 $jokeSpacing;
        display: flex;
        flex-direction: column;
        align-items: center;
        animation-fill-mode: forwards;
        animation-duration: $animationDuration;

        &.loading {
            left: 0;
            right: 0;
            opacity: 1;
        }

        &.slide-left {
            left: $jokeMobileOffset;
            right: -$jokeMobileOffset;

            @media (min-width: $desktopBreakpointStart) {
                left: $jokeDesktopOffset;
                right: -$jokeDesktopOffset;
            }

            &.current {
                animation-name: slide-in-left-mobile;
            }

            @media (min-width: $desktopBreakpointStart) {
                &.current {
                    animation-name: slide-in-left-desktop;
                }
            }

            &.older {
                animation-name: slide-out-left-mobile;
            }

            @media (min-width: $desktopBreakpointStart) {
                &.older {
                    animation-name: slide-out-left-desktop;
                }
            }
        }

        &.slide-right {
            left: -$jokeMobileOffset;
            right: $jokeMobileOffset;

            @media (min-width: $desktopBreakpointStart) {
                left: -$jokeDesktopOffset;
                right: $jokeDesktopOffset;
            }

            &.current {
                animation-name: slide-in-right-mobile;
            }

            @media (min-width: $desktopBreakpointStart) {
                &.current {
                    animation-name: slide-in-right-desktop;
                }
            }

            &.newer {
                animation-name: slide-out-right-mobile;
            }

            @media (min-width: $desktopBreakpointStart) {
                &.newer {
                    animation-name: slide-out-right-desktop;
                }
            }
        }

        .top-spacer {
            margin-top: auto;
        }

        .bottom-spacer {
            margin-bottom: auto;
        }

        .joke-paragraph {
            padding: 12px 16px;
            font-size: 24px;
            line-height: 28px;
            font-weight: 600;
            margin: 0;
            max-width: 532px;

            @media (min-width: $desktopBreakpointStart) {
                padding: 16px 32px;
                font-size: 32px;
                line-height: 38px;
            }

            &:nth-child(even) {
                color: white;
                transform: rotate(2deg);
            }

            &:nth-child(odd) {
                background-color: white;
                transform: rotate(-2deg);
            }
        }
    }
}

@mixin slide-in($start, $end) {
    #{0%} {
        transform: translateX($start);
        opacity: 0;
    }

    #{25%} {
        opacity: 0;
    }

    #{100%} {
        transform: translateX($end);
        opacity: 1;
    }
}

@mixin slide-out($start, $end) {
    #{0%} {
        opacity: 1;
        transform: translateX($start);
    }

    #{40%} {
        opacity: 0;
    }

    #{100%} {
        opacity: 0;
        transform: translateX($end);
    }
}

@keyframes slide-in-left-mobile {
    @include slide-in(0, -$jokeMobileOffset);
}
@keyframes slide-in-left-desktop {
    @include slide-in(0, -$jokeDesktopOffset);
}

@keyframes slide-out-left-mobile {
    @include slide-out(-$jokeMobileOffset, -#{$jokeMobileOffset + $jokeMobileMovement});
}
@keyframes slide-out-left-desktop {
    @include slide-out(-$jokeDesktopOffset, -#{$jokeDesktopOffset + $jokeDesktopMovement});
}

@keyframes slide-in-right-mobile {
    @include slide-in(0, $jokeMobileOffset);
}
@keyframes slide-in-right-desktop {
    @include slide-in(0, $jokeDesktopOffset);
}

@keyframes slide-out-right-mobile {
    @include slide-out($jokeMobileOffset, #{$jokeMobileOffset + $jokeMobileMovement});
}
@keyframes slide-out-right-desktop {
    @include slide-out($jokeDesktopOffset, #{$jokeDesktopOffset + $jokeDesktopMovement});
}
